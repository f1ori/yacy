<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "DTD/xhtml1-transitional.dtd">
<!-- This page is only XHTML 1.0 Transitional and not Strict because iframes are in use -->
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title>YaCy '#[clientname]#': View URL Content</title>
    #%env/templates/metas.template%#
  <script type="text/javascript" src="/js/highslide/highslide.js"></script>
  </head>
  <body>
    #(display)#
    #%env/templates/simpleheader.template%#
    ::
    #%env/templates/header.template%#
    #%env/templates/submenuIndexControl.template%#
    ::
    #%env/templates/embeddedheader.template%#
    #(/display)#
    <h2>View URL Content</h2>

    <form method="get" action="ViewFile.html" accept-charset="ascii">
      <fieldset><legend>Get URL Viewer</legend>
        <dl>
          <dt>URL:</dt><dd><input type="text" size="60" name="url" value="#[url]#" />&nbsp;<input type="submit" name="show" value="Show" /></dd>
          <dd>&nbsp;</dd>
        </dl>
        <input type="hidden" name="display" value="#[display]#" />
      </fieldset>
    </form>
    #(error)#
    <form method="get" action="ViewFile.html" accept-charset="ascii">
      <fieldset><legend>URL Metadata</legend>
        <dl>
          <dt>URL:</dt>        <dd><a href="#[url]#">#[url]#</a></dd>
          <dt>Hash:</dt>       <dd><a href="/api/yacydoc.html?urlhash=#[hash]#">#[hash]#</a></dd>
          <dt>In URL-DB:</dt>  <dd>#(inurldb)#no::yes#(/inurldb)#</dd>
          <dt>In Cache:</dt>   <dd>#(incache)#no::yes#(/incache)#</dd>
          <dt>Word Count:</dt> <dd>#[wordCount]#</dd>
          <dt>Description:</dt><dd>#[desc]#</dd>
          <dt>Size:</dt>       <dd>#[size]# Bytes</dd>#(mimeTypeAvailable)#::
          <dt>MimeType:</dt>   <dd>#[mimeType]#</dd>#(/mimeTypeAvailable)#
          <dt><label for="viewMode">View as</label>:</dt>
          <dd>
            <select id="viewMode" name="viewMode" onchange='this.form.submit()'>
              <option value="iframeWeb"#(vMode-iframeWeb)#:: selected="selected"#(/vMode-iframeWeb)#>Original from Web</option>
              <option value="iframeCache"#(vMode-iframeCache)#:: selected="selected"#(/vMode-iframeCache)#>Original from Cache</option>
              <option value="plain"#(vMode-plain)#:: selected="selected"#(/vMode-plain)#>Plain Text</option>
              <option value="parsed"#(vMode-parsed)#:: selected="selected"#(/vMode-parsed)#>Parsed Text</option>
              <option value="sentences"#(vMode-sentences)#:: selected="selected"#(/vMode-sentences)#>Parsed Sentences</option>
              <option value="words"#(vMode-words)#:: selected="selected"#(/vMode-words)#>Parsed Tokens/Words</option>
              <option value="links"#(vMode-links)#:: selected="selected"#(/vMode-links)#>Link List</option>
            </select>
            <noscript><input type="submit" name="show" value="Show" /></noscript>
          </dd>
        </dl>
        <input type="hidden" name="words" value="#[words]#" />
        <input type="hidden" name="urlHash" value="#[hash]#" />
        <input type="hidden" name="display" value="#[display]#" />
        <input type="hidden" name="url" value="#[url]#" />
      </fieldset>
    </form>
:: <!-- 1 -->
:: <!-- 2 -->
<span class="error">Unable to find URL Entry in DB</span>
:: <!-- 3 -->
<span class="error">Invalid URL</span>
:: <!-- 4 -->
<p class="error">Unable to download resource content.</p>
<tt>#[errorText]#</tt>
:: <!-- 5 -->
<p class="error">Unable to parse resource content.</p>
<tt>#[errorText]#</tt>
:: <!-- 6 -->
<span class="error">Unsupported protocol.</span>
#(/error)#

#(viewMode)#
:: <!-- 1 -->
	<fieldset><legend>Original Content from Web</legend>
	  <p class="tt">
	    #[plainText]#
	  </p>
	</fieldset>
:: <!-- 2 -->
<form action="">
          <fieldset><legend>Parsed Content</legend>
          <dl>
	  <dt>dc:title</dt><dd>#[title]#</dd>
	  <dt>dc:creator</dt><dd>#[creator]#</dd>
	  <dt>dc:subject</dt><dd>#[subject]#</dd>
	  <dt>dc:description</dt><dd>#[description]#</dd>
	  <dt>dc:publisher</dt><dd>#[publisher]#</dd>
	  <dt>dc:format</dt><dd>#[format]#</dd>
	  <dt>dc:identifier</dt><dd>#[identifier]#</dd>
	  <dt>dc:source</dt><dd>#[source]#</dd>
	  <dt>geo:lat &amp; geo:long</dt><dd><a href="osm.png?lon=#[lon]#&lat=#[lat]#&zoom=14" onclick="return hs.expand(this)">lat=#[lat]#, lon=#[lon]#</a></dd>
	  </dl>
	  <p class="tt">#[parsedText]#</p>
          </fieldset>
    </form>
:: <!-- 3 -->
	<fieldset><legend>Parsed Sentences</legend>
	  <ol>#{sentences}#
		<li class="tt">#[text]#</li>#{/sentences}#
	  </ol>
	</fieldset>
:: <!-- 4 -->
	<fieldset><legend>Original from Web</legend>
	  <iframe src="#[url]#" width="800" height="400" />
	</fieldset>
:: <!-- 5 -->
	<fieldset><legend>Original from Cache</legend>
	  #(html)#::<iframe src="/CacheResource_p.html?url=#[url]#" width="800" height="400" />#(/html)#
	  #(png)#::<iframe src="/CacheResource_p.png?url=#[url]#" width="800" height="400" />#(/png)#
	</fieldset>
:: <!-- 6 -->
	<fieldset><legend>Link List</legend>
	<table border="0" cellpadding="2" cellspacing="1">
		#{links}#
		<tr class="TableCell#(dark)#Light::Dark::Summary#(/dark)#">
			<td>#[nr]#</td>
			<td class="tt"><tt>#[type]#</tt></td>
			<td class="tt"><tt>#[text]#</tt></td>
			<td class="tt"><tt><a href="#[url]#">#[link]#</a></tt></td>
			<td class="tt"><tt>#[attr]#</tt></td>
		</tr>#{/links}#
	</table>
        </fieldset>
:: <!-- 7 -->
	<fieldset><legend>Parsed Tokens</legend>
	  <ol>#{words}#
		<li class="tt"><tt>#[word]#</tt></li>#{/words}#
	  </ol>
	</fieldset>
#(/viewMode)#


#%env/templates/footer.template%#
</body>
</html>